Import('src_env')

# Enable common components for Linux
src_env['crypto'] = True
src_env['external_sha2'] = True
src_env['malloc'] = True
src_env['nvram'] = True

# Build target source
src_env['srcs'] += src_env.Glob('*.c')

if 'MQTT' in src_env['connectivity']:
    src_env['srcs'] += Glob('mqtt/*.c')
else:
    src_env['srcs'] += Glob('ip/*.c')

